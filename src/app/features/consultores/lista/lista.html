<div class="fullscreen-container">
  <!-- Background Animado -->
  <div class="animated-background">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
    <div class="shape shape-4"></div>
    <div class="shape shape-5"></div>
  </div>

  <!-- Particles -->
  <div class="particles">
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
  </div>

  <!-- Header Fixo -->
  <header class="top-header">
    <div class="header-container">
      <div class="logo-area">
        <div class="logo-icon-fixed">
          <img src="assets/consulting.png" alt="ConsultHub Logo">
        </div>
        <div class="logo-text">
          <h1>ConsultHub</h1>
          <p>Gest√£o de Consultores</p>
        </div>
      </div>
      
      <div class="header-actions">
        <button class="btn-primary" (click)="novoConsultor()">
          Novo Consultor
        </button>
        <button class="btn-logout" (click)="logout()">
          Sair
        </button>
      </div>
    </div>
  </header>

  <!-- Conte√∫do Principal -->
  <main class="main-content">
    <div class="content-wrapper">
      
      <!-- Barra de Busca -->
      <div class="search-section" *ngIf="!loading && !errorMessage">
        <div class="search-container">
          <div class="search-box">
            <span class="search-icon">üîç</span>
            <input 
              type="text" 
              class="search-input"
              placeholder="Buscar por nome, email, telefone ou especializa√ß√£o..."
              [(ngModel)]="searchTerm"
              (input)="onSearch()"
            >
            <button 
              *ngIf="searchTerm" 
              class="clear-search"
              (click)="clearSearch()"
              title="Limpar busca"
            >
              ‚úï
            </button>
          </div>
          <div class="search-stats" *ngIf="consultores.length > 0">
            <span class="results-count">
              {{ consultoresFiltrados.length }} de {{ consultores.length }} 
              {{ consultoresFiltrados.length === 1 ? 'consultor encontrado' : 'consultores encontrados' }}
            </span>
          </div>
        </div>
      </div>

      <!-- Loading -->
      <div *ngIf="loading" class="loading-container">
        <div class="spinner"></div>
        <p>Carregando consultores...</p>
      </div>

      <!-- Error Message -->
      <div *ngIf="errorMessage && !loading" class="error-alert">
        <span class="alert-icon">‚ö†Ô∏è</span>
        <span>{{ errorMessage }}</span>
        <button class="btn-retry" (click)="loadConsultores()">Tentar novamente</button>
      </div>

      <!-- Empty State -->
      <div *ngIf="!loading && !errorMessage && consultores.length === 0" class="empty-state">
        <div class="empty-icon">üìã</div>
        <h2>Nenhum consultor cadastrado</h2>
        <p>Comece adicionando seu primeiro consultor ao sistema</p>
        <button class="btn-primary-large" (click)="novoConsultor()">
          <span class="btn-icon">‚ûï</span>
          Cadastrar Primeiro Consultor
        </button>
      </div>

      <!-- Sem Resultados na Busca -->
      <div *ngIf="!loading && !errorMessage && consultores.length > 0 && consultoresFiltrados.length === 0" class="no-results">
        <div class="no-results-icon">üîç</div>
        <h2>Nenhum resultado encontrado</h2>
        <p>N√£o encontramos consultores com o termo "{{ searchTerm }}"</p>
        <button class="btn-secondary" (click)="clearSearch()">Limpar busca</button>
      </div>

      <!-- Consultores Grid -->
      <div *ngIf="!loading && !errorMessage && consultoresFiltrados.length > 0" class="consultores-section">
        <div class="section-header">
          <h2>Consultores Cadastrados</h2>
          <span class="count-badge">
            {{ consultoresFiltrados.length }} {{ consultoresFiltrados.length === 1 ? 'consultor' : 'consultores' }}
          </span>
        </div>

        <div class="consultores-grid">
          <div *ngFor="let consultor of consultoresFiltrados" class="consultor-card">
            <div class="card-header">
              <div class="avatar">
                {{ consultor.nomeCompleto.charAt(0).toUpperCase() }}
              </div>
              <div class="card-info">
                <h3>{{ consultor.nomeCompleto }}</h3>
                <p class="especialidade">{{ consultor.areaEspecializacao }}</p>
              </div>
            </div>

            <div class="card-body">
              <div class="info-row">
                <span class="label">
                  <span class="label-icon">üìß</span>
                  Email
                </span>
                <span class="value">{{ consultor.email }}</span>
              </div>
              <div class="info-row">
                <span class="label">
                  <span class="label-icon">üì±</span>
                  Telefone
                </span>
                <span class="value">{{ consultor.telefone }}</span>
              </div>
              <div class="info-row" *ngIf="consultor.ativo !== undefined">
                <span class="label">
                  <span class="label-icon">‚úÖ</span>
                  Status
                </span>
                <span class="value" [class.ativo]="consultor.ativo" [class.inativo]="!consultor.ativo">
                  {{ consultor.ativo ? 'Ativo' : 'Inativo' }}
                </span>
              </div>
              <div class="info-row" *ngIf="consultor.dataCadastro">
                <span class="label">
                  <span class="label-icon">üìÖ</span>
                  Cadastrado
                </span>
                <span class="value">{{ consultor.dataCadastro.toDate() | date: 'dd/MM/yyyy' }}</span>
              </div>
            </div>

            <div class="card-actions">
              <button class="btn-view" (click)="viewDetails(consultor.id!)" title="Ver detalhes">
                Detalhes
              </button>
              <button class="btn-edit" (click)="editConsultor(consultor.id!)" title="Editar">
                Editar
              </button>
              <button class="btn-delete" (click)="deleteConsultor(consultor.id!, consultor.nomeCompleto)" title="Excluir">
                Excluir
              </button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </main>
</div>